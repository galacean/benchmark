import"./modulepreload-polyfill-B5Qt9EMX.js";import{H as J,j as Q,d as V,t as Z,ak as tt,S as et,a4 as rt,W as nt}from"./three.module-CJ2cXEKI.js";function it(e,n,t){return n=S(n),dt(e,F()?Reflect.construct(n,t||[],S(e).constructor):n.apply(e,t))}function F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F=function(){return!!e})()}function ot(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r,o,i,l,a=[],d=!0,s=!1;try{if(i=(t=t.call(e)).next,n===0){if(Object(t)!==t)return;d=!1}else for(;!(d=(r=i.call(t)).done)&&(a.push(r.value),a.length!==n);d=!0);}catch(p){s=!0,o=p}finally{try{if(!d&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(s)throw o}}return a}}function at(e,n){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function st(e){var n=at(e,"string");return typeof n=="symbol"?n:String(n)}function ht(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ut(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,st(r.key),r)}}function ct(e,n,t){return n&&ut(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ft(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&T(e,n)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(e)}function T(e,n){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},T(e,n)}function lt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(e,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lt(e)}function E(e,n){return yt(e)||ot(e,n)||I(e,n)||_t()}function w(e){return gt(e)||pt(e)||I(e)||vt()}function gt(e){if(Array.isArray(e))return W(e)}function yt(e){if(Array.isArray(e))return e}function pt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I(e,n){if(e){if(typeof e=="string")return W(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return W(e,n)}}function W(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function vt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y=typeof window<"u"&&window.THREE?window.THREE:{LinearFilter:J,Sprite:Q,SpriteMaterial:V,SRGBColorSpace:Z,Texture:tt},bt=function(e){ft(n,e);function n(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"rgba(255, 255, 255, 1)";return ht(this,n),t=it(this,n,[new y.SpriteMaterial]),t._text="".concat(r),t._textHeight=o,t._color=i,t._backgroundColor=!1,t._padding=0,t._borderWidth=0,t._borderRadius=0,t._borderColor="white",t._strokeWidth=0,t._strokeColor="white",t._fontFace="system-ui",t._fontSize=90,t._fontWeight="normal",t._canvas=document.createElement("canvas"),t._genCanvas(),t}return ct(n,[{key:"text",get:function(){return this._text},set:function(r){this._text=r,this._genCanvas()}},{key:"textHeight",get:function(){return this._textHeight},set:function(r){this._textHeight=r,this._genCanvas()}},{key:"color",get:function(){return this._color},set:function(r){this._color=r,this._genCanvas()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._genCanvas()}},{key:"padding",get:function(){return this._padding},set:function(r){this._padding=r,this._genCanvas()}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(r){this._borderWidth=r,this._genCanvas()}},{key:"borderRadius",get:function(){return this._borderRadius},set:function(r){this._borderRadius=r,this._genCanvas()}},{key:"borderColor",get:function(){return this._borderColor},set:function(r){this._borderColor=r,this._genCanvas()}},{key:"fontFace",get:function(){return this._fontFace},set:function(r){this._fontFace=r,this._genCanvas()}},{key:"fontSize",get:function(){return this._fontSize},set:function(r){this._fontSize=r,this._genCanvas()}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(r){this._fontWeight=r,this._genCanvas()}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(r){this._strokeWidth=r,this._genCanvas()}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(r){this._strokeColor=r,this._genCanvas()}},{key:"_genCanvas",value:function(){var r=this,o=this._canvas,i=o.getContext("2d"),l=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],a=l.map(function(h){return h*r.fontSize*.1}),d=Array.isArray(this.borderRadius)?this.borderRadius:[this.borderRadius,this.borderRadius,this.borderRadius,this.borderRadius],s=d.map(function(h){return h*r.fontSize*.1}),p=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],k=p.map(function(h){return h*r.fontSize*.1}),v=this.text.split(`
`),O="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFace);i.font=O;var P=Math.max.apply(Math,w(v.map(function(h){return i.measureText(h).width}))),K=this.fontSize*v.length;if(o.width=P+a[0]*2+k[0]*2,o.height=K+a[1]*2+k[1]*2,this.borderWidth){if(i.strokeStyle=this.borderColor,a[0]){var _=a[0]/2;i.lineWidth=a[0],i.beginPath(),i.moveTo(_,s[0]),i.lineTo(_,o.height-s[3]),i.moveTo(o.width-_,s[1]),i.lineTo(o.width-_,o.height-s[2]),i.stroke()}if(a[1]){var b=a[1]/2;i.lineWidth=a[1],i.beginPath(),i.moveTo(Math.max(a[0],s[0]),b),i.lineTo(o.width-Math.max(a[0],s[1]),b),i.moveTo(Math.max(a[0],s[3]),o.height-b),i.lineTo(o.width-Math.max(a[0],s[2]),o.height-b),i.stroke()}if(this.borderRadius){var A=Math.max.apply(Math,w(a)),c=A/2;i.lineWidth=A,i.beginPath(),[!!s[0]&&[s[0],c,c,s[0]],!!s[1]&&[o.width-s[1],o.width-c,c,s[1]],!!s[2]&&[o.width-s[2],o.width-c,o.height-c,o.height-s[2]],!!s[3]&&[s[3],c,o.height-c,o.height-s[3]]].filter(function(h){return h}).forEach(function(h){var u=E(h,4),g=u[0],f=u[1],m=u[2],x=u[3];i.moveTo(g,m),i.quadraticCurveTo(f,m,f,x)}),i.stroke()}}this.backgroundColor&&(i.fillStyle=this.backgroundColor,this.borderRadius?(i.beginPath(),i.moveTo(a[0],s[0]),[[a[0],s[0],o.width-s[1],a[1],a[1],a[1]],[o.width-a[0],o.width-a[0],o.width-a[0],a[1],s[1],o.height-s[2]],[o.width-a[0],o.width-s[2],s[3],o.height-a[1],o.height-a[1],o.height-a[1]],[a[0],a[0],a[0],o.height-a[1],o.height-s[3],s[0]]].forEach(function(h){var u=E(h,6),g=u[0],f=u[1],m=u[2],x=u[3],N=u[4],$=u[5];i.quadraticCurveTo(g,x,f,N),i.lineTo(m,$)}),i.closePath(),i.fill()):i.fillRect(a[0],a[1],o.width-a[0]*2,o.height-a[1]*2)),i.translate.apply(i,w(a)),i.translate.apply(i,w(k)),i.font=O,i.fillStyle=this.color,i.textBaseline="bottom";var j=this.strokeWidth>0;j&&(i.lineWidth=this.strokeWidth*this.fontSize/10,i.strokeStyle=this.strokeColor),v.forEach(function(h,u){var g=(P-i.measureText(h).width)/2,f=(u+1)*r.fontSize;j&&i.strokeText(h,g,f),i.fillText(h,g,f)}),this.material.map&&this.material.map.dispose();var C=this.material.map=new y.Texture(o);C.minFilter=y.LinearFilter,C.colorSpace=y.SRGBColorSpace,C.needsUpdate=!0;var z=this.textHeight*v.length+l[1]*2+p[1]*2;this.scale.set(z*o.width/o.height,z,0)}},{key:"clone",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:"copy",value:function(r){return y.Sprite.prototype.copy.call(this,r),this.color=r.color,this.backgroundColor=r.backgroundColor,this.padding=r.padding,this.borderWidth=r.borderWidth,this.borderColor=r.borderColor,this.fontFace=r.fontFace,this.fontSize=r.fontSize,this.fontWeight=r.fontWeight,this.strokeWidth=r.strokeWidth,this.strokeColor=r.strokeColor,this}}]),n}(y.Sprite);const B=new et,L=window.innerWidth,G=window.innerHeight,H=L/G,q=new rt(-H,H,1,-1,.1,1e3);q.position.z=5;const X=new nt({canvas:document.getElementById("canvas")});X.setSize(L,G);const Y=22,U=90,mt=.043,wt=.025,St=Y*.5,kt=U*.5,R=[];for(let e=0;e<U;++e)for(let n=0;n<Y;++n){const t=new bt("hello");t.scale.set(.05,.05,.05),t.position.set((n-St)*mt,(e-kt)*wt,0);const r=t.material.map;r.center.set(.5,.5),B.add(t),R.push(r)}let M=0;const Ct=Math.PI/360;function xt(){M+=Ct;for(let e=0,n=R.length;e<n;++e)R[e].rotation=M}function D(){requestAnimationFrame(D),xt(),X.render(B,q)}D();
