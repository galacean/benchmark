import"./modulepreload-polyfill-B5Qt9EMX.js";import{H as Q,j as V,d as Z,t as tt,ak as et,S as rt,a4 as nt,W as it}from"./three.module-CJ2cXEKI.js";function ot(e,n,t){return n=k(n),gt(e,I()?Reflect.construct(n,t||[],k(e).constructor):n.apply(e,t))}function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I=function(){return!!e})()}function at(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r,o,i,l,a=[],d=!0,s=!1;try{if(i=(t=t.call(e)).next,n===0){if(Object(t)!==t)return;d=!1}else for(;!(d=(r=i.call(t)).done)&&(a.push(r.value),a.length!==n);d=!0);}catch(v){s=!0,o=v}finally{try{if(!d&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(s)throw o}}return a}}function st(e,n){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ht(e){var n=st(e,"string");return typeof n=="symbol"?n:String(n)}function ct(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ut(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ht(r.key),r)}}function ft(e,n,t){return n&&ut(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lt(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&T(e,n)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(e)}function T(e,n){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},T(e,n)}function dt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gt(e,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dt(e)}function H(e,n){return pt(e)||at(e,n)||B(e,n)||bt()}function S(e){return yt(e)||vt(e)||B(e)||_t()}function yt(e){if(Array.isArray(e))return R(e)}function pt(e){if(Array.isArray(e))return e}function vt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B(e,n){if(e){if(typeof e=="string")return R(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return R(e,n)}}function R(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function _t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y=typeof window<"u"&&window.THREE?window.THREE:{LinearFilter:Q,Sprite:V,SpriteMaterial:Z,SRGBColorSpace:tt,Texture:et},mt=function(e){lt(n,e);function n(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"rgba(255, 255, 255, 1)";return ct(this,n),t=ot(this,n,[new y.SpriteMaterial]),t._text="".concat(r),t._textHeight=o,t._color=i,t._backgroundColor=!1,t._padding=0,t._borderWidth=0,t._borderRadius=0,t._borderColor="white",t._strokeWidth=0,t._strokeColor="white",t._fontFace="system-ui",t._fontSize=90,t._fontWeight="normal",t._canvas=document.createElement("canvas"),t._genCanvas(),t}return ft(n,[{key:"text",get:function(){return this._text},set:function(r){this._text=r,this._genCanvas()}},{key:"textHeight",get:function(){return this._textHeight},set:function(r){this._textHeight=r,this._genCanvas()}},{key:"color",get:function(){return this._color},set:function(r){this._color=r,this._genCanvas()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._genCanvas()}},{key:"padding",get:function(){return this._padding},set:function(r){this._padding=r,this._genCanvas()}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(r){this._borderWidth=r,this._genCanvas()}},{key:"borderRadius",get:function(){return this._borderRadius},set:function(r){this._borderRadius=r,this._genCanvas()}},{key:"borderColor",get:function(){return this._borderColor},set:function(r){this._borderColor=r,this._genCanvas()}},{key:"fontFace",get:function(){return this._fontFace},set:function(r){this._fontFace=r,this._genCanvas()}},{key:"fontSize",get:function(){return this._fontSize},set:function(r){this._fontSize=r,this._genCanvas()}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(r){this._fontWeight=r,this._genCanvas()}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(r){this._strokeWidth=r,this._genCanvas()}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(r){this._strokeColor=r,this._genCanvas()}},{key:"_genCanvas",value:function(){var r=this,o=this._canvas,i=o.getContext("2d"),l=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],a=l.map(function(h){return h*r.fontSize*.1}),d=Array.isArray(this.borderRadius)?this.borderRadius:[this.borderRadius,this.borderRadius,this.borderRadius,this.borderRadius],s=d.map(function(h){return h*r.fontSize*.1}),v=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],x=v.map(function(h){return h*r.fontSize*.1}),_=this.text.split(`
`),O="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFace);i.font=O;var A=Math.max.apply(Math,S(_.map(function(h){return i.measureText(h).width}))),N=this.fontSize*_.length;if(o.width=A+a[0]*2+x[0]*2,o.height=N+a[1]*2+x[1]*2,this.borderWidth){if(i.strokeStyle=this.borderColor,a[0]){var b=a[0]/2;i.lineWidth=a[0],i.beginPath(),i.moveTo(b,s[0]),i.lineTo(b,o.height-s[3]),i.moveTo(o.width-b,s[1]),i.lineTo(o.width-b,o.height-s[2]),i.stroke()}if(a[1]){var m=a[1]/2;i.lineWidth=a[1],i.beginPath(),i.moveTo(Math.max(a[0],s[0]),m),i.lineTo(o.width-Math.max(a[0],s[1]),m),i.moveTo(Math.max(a[0],s[3]),o.height-m),i.lineTo(o.width-Math.max(a[0],s[2]),o.height-m),i.stroke()}if(this.borderRadius){var j=Math.max.apply(Math,S(a)),u=j/2;i.lineWidth=j,i.beginPath(),[!!s[0]&&[s[0],u,u,s[0]],!!s[1]&&[o.width-s[1],o.width-u,u,s[1]],!!s[2]&&[o.width-s[2],o.width-u,o.height-u,o.height-s[2]],!!s[3]&&[s[3],u,o.height-u,o.height-s[3]]].filter(function(h){return h}).forEach(function(h){var c=H(h,4),g=c[0],f=c[1],w=c[2],W=c[3];i.moveTo(g,w),i.quadraticCurveTo(f,w,f,W)}),i.stroke()}}this.backgroundColor&&(i.fillStyle=this.backgroundColor,this.borderRadius?(i.beginPath(),i.moveTo(a[0],s[0]),[[a[0],s[0],o.width-s[1],a[1],a[1],a[1]],[o.width-a[0],o.width-a[0],o.width-a[0],a[1],s[1],o.height-s[2]],[o.width-a[0],o.width-s[2],s[3],o.height-a[1],o.height-a[1],o.height-a[1]],[a[0],a[0],a[0],o.height-a[1],o.height-s[3],s[0]]].forEach(function(h){var c=H(h,6),g=c[0],f=c[1],w=c[2],W=c[3],$=c[4],J=c[5];i.quadraticCurveTo(g,W,f,$),i.lineTo(w,J)}),i.closePath(),i.fill()):i.fillRect(a[0],a[1],o.width-a[0]*2,o.height-a[1]*2)),i.translate.apply(i,S(a)),i.translate.apply(i,S(x)),i.font=O,i.fillStyle=this.color,i.textBaseline="bottom";var z=this.strokeWidth>0;z&&(i.lineWidth=this.strokeWidth*this.fontSize/10,i.strokeStyle=this.strokeColor),_.forEach(function(h,c){var g=(A-i.measureText(h).width)/2,f=(c+1)*r.fontSize;z&&i.strokeText(h,g,f),i.fillText(h,g,f)}),this.material.map&&this.material.map.dispose();var C=this.material.map=new y.Texture(o);C.minFilter=y.LinearFilter,C.colorSpace=y.SRGBColorSpace,C.needsUpdate=!0;var E=this.textHeight*_.length+l[1]*2+v[1]*2;this.scale.set(E*o.width/o.height,E,0)}},{key:"clone",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:"copy",value:function(r){return y.Sprite.prototype.copy.call(this,r),this.color=r.color,this.backgroundColor=r.backgroundColor,this.padding=r.padding,this.borderWidth=r.borderWidth,this.borderColor=r.borderColor,this.fontFace=r.fontFace,this.fontSize=r.fontSize,this.fontWeight=r.fontWeight,this.strokeWidth=r.strokeWidth,this.strokeColor=r.strokeColor,this}}]),n}(y.Sprite);const L=new rt,G=window.innerWidth*window.devicePixelRatio,q=window.innerHeight*window.devicePixelRatio,M=G/q,X=new nt(-M,M,1,-1,.1,1e3);X.position.z=5;const p=document.getElementById("canvas");p.width=p.clientWidth*window.devicePixelRatio;p.height=p.clientHeight*window.devicePixelRatio;const Y=new it({canvas:p});Y.setSize(G,q);const U=22,D=90,wt=.023,St=.015,kt=U*.5,xt=D*.5,P=[];for(let e=0;e<D;++e)for(let n=0;n<U;++n){const t=new mt("hello");t.scale.set(.025,.025,.025),t.position.set((n-kt)*wt-.21,(e-xt)*St+.5,0);const r=t.material.map;r.center.set(.5,.5),L.add(t),P.push(r)}let F=0;const Ct=Math.PI/360;function Wt(){F+=Ct;for(let e=0,n=P.length;e<n;++e)P[e].rotation=F}function K(){requestAnimationFrame(K),Wt(),Y.render(L,X)}K();
