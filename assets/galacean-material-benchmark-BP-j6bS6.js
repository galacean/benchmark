import"./modulepreload-polyfill-B5Qt9EMX.js";import{W as q,V as Y,C as H,D as V,A as s,a as G,M as K,U as J,P as Z}from"./module-zxCEsSWn.js";import{G as $}from"./dat.gui.module-mKA_0LW_.js";function X(n,A){const i=new J(n);return i.baseTexture=A,i}function ee(n,A,i,T,M,x,o,b,u,p){const a=new Z(n);return a.baseTexture=A,a.ior=1.5,a.metallic=1,a.roughness=.7,a.roughnessMetallicTexture=i,a.anisotropy=.2,a.anisotropyRotation=50,a.anisotropyTexture=T,a.normalTexture=M,a.normalTextureIntensity=.5,a.emissiveTexture=x,a.occlusionTexture=o,a.occlusionTextureIntensity=1.6,a.clearCoat=.5,a.clearCoatTexture=b,a.clearCoatRoughness=.5,a.clearCoatRoughnessTexture=u,a.clearCoatNormalTexture=p,a}q.create({canvas:"canvas"}).then(n=>{n.canvas.resizeByClientSize();const A=n.sceneManager.activeScene,i=A.createRootEntity("root"),T=A.createRootEntity("Camera");T.transform.setPosition(0,5,10),T.transform.lookAt(new Y(0,0,0));const M=T.addComponent(H);M.enableFrustumCulling=!1;const x=A.createRootEntity("Light");x.transform.setPosition(0,3,0),x.transform.setRotation(-45,-45,0),x.addComponent(V),n.resourceManager.load([{url:"https://mdn.alipayobjects.com/oasis_be/afts/file/A*g42yQrAsYKcAAAAAAAAAAAAADkp5AQ/popcat_combine_anim.glb",type:s.GLTF},{url:"https://mdn.alipayobjects.com/afts/img/A*HSY5QbxEMcQAAAAAAAAAAAAADrd2AQ/original_Material.004_baseColor.png",type:s.Texture2D},{url:"https://mdn.alipayobjects.com/afts/img/A*GDsZTKyeOIsAAAAAAAAAAAAADrd2AQ/original_original_DisplacementMap.png",type:s.Texture2D},{url:"https://mdn.alipayobjects.com/afts/img/A*-Kx-Qa49q_gAAAAAAAAAAAAADrd2AQ/original_original_AmbientOcclusionMap.png",type:s.Texture2D},{url:"https://mdn.alipayobjects.com/afts/img/A*nqaYT41yCQMAAAAAAAAAAAAADrd2AQ/original_original_NormalMap.png",type:s.Texture2D},{url:"https://mdn.alipayobjects.com/afts/img/A*DnByQ4n5nu4AAAAAAAAAAAAADrd2AQ/original_original_SpecularMap.png",type:s.Texture2D},{url:"https://mdn.alipayobjects.com/afts/img/A*0MmDTJ1br3cAAAAAAAAAAAAADrd2AQ/original_original_Material.004_baseColor_emissive.png",type:s.Texture2D},{url:"https://mdn.alipayobjects.com/afts/img/A*W8_RSI4aq_kAAAAAAAAAAAAADrd2AQ/original_original_Material.004_baseColor_specular.png",type:s.Texture2D},{url:"https://mdn.alipayobjects.com/afts/img/A*dGshSKjHoKgAAAAAAAAAAAAADrd2AQ/original_original_Material.004_baseColor_normal.png",type:s.Texture2D}]).then(o=>{const b=o[0],u=o[1],p=o[2],a=o[3],Q=o[4],v=o[5],O=o[6],P=o[7],j=o[8],y=b.instantiateSceneRoot(),U=y.transform;U.setPosition(0,0,0),U.scale.scale(.025);const c=[],r=[],d=[];function B(t){const R=e.baseTexture?u:null;for(let h=0;h<t;++h){const m=y.clone();i.addChild(m);const D=(Math.random()*7.5-7.5/2)*2.5,N=(Math.random()*7.5-7.5/2)*2.5,g=m.transform;g.setPosition(D,0,-N),g.setRotation(-90,Math.random()*360,0),m.getComponent(G).play("Animation"),m.getComponentsIncludeChildren(K,c);const C=X(n,R);c.forEach(E=>{E.setMaterial(C)}),d.push(C)}c.splice(0,c.length)}function W(t){const R=e.baseTexture?u:null,h=e.specularTexture?v:null,m=e.displacementTexture?p:null,D=e.normalTexture?Q:null,N=e.emissiveTexture?O:null,g=e.aoTexture?a:null,C=e.clearCoatTexture?u:null,E=e.clearCoatTexture?P:null,w=e.clearCoatNormalTexture?j:null;for(let F=0;F<t;++F){const f=y.clone();i.addChild(f);const z=(Math.random()*7.5-7.5/2)*2.5,L=(Math.random()*7.5-7.5/2)*2.5,I=f.transform;I.setPosition(z,0,-L),I.setRotation(-90,Math.random()*360,0),f.getComponent(G).play("Animation"),f.getComponentsIncludeChildren(K,c);const S=ee(n,R,h,m,D,N,g,C,E,w);c.forEach(k=>{k.setMaterial(S)}),r.push(S)}c.splice(0,c.length)}const e={material:"Unlit",baseTexture:!0,specularTexture:!1,displacementTexture:!1,normalTexture:!1,emissiveTexture:!1,aoTexture:!1,clearCoatTexture:!1,clearCoatRoughnessTexture:!1,clearCoatNormalTexture:!1},_=new $;_.add(e,"material",["Unlit","PBR"]).onChange(()=>{d.splice(0,d.length),r.splice(0,r.length),i.clearChildren(),e.material==="Unlit"?B(1e3):W(1e3)}),_.addFolder("Unlit Material").add(e,"baseTexture").onChange(()=>{d.forEach(t=>{t.baseTexture=e.baseTexture?u:null})});const l=_.addFolder("PBR Material");l.add(e,"baseTexture").onChange(()=>{r.forEach(t=>{t.baseTexture=e.baseTexture?u:null})}),l.add(e,"specularTexture").onChange(()=>{r.forEach(t=>{t.roughnessMetallicTexture=e.specularTexture?v:null})}),l.add(e,"displacementTexture").onChange(()=>{r.forEach(t=>{t.anisotropyTexture=e.displacementTexture?p:null})}),l.add(e,"normalTexture").onChange(()=>{r.forEach(t=>{t.normalTexture=e.normalTexture?Q:null})}),l.add(e,"aoTexture").onChange(()=>{r.forEach(t=>{t.occlusionTexture=e.aoTexture?a:null})}),l.add(e,"emissiveTexture").onChange(()=>{r.forEach(t=>{t.emissiveTexture=e.emissiveTexture?O:null})}),l.add(e,"clearCoatTexture").onChange(()=>{r.forEach(t=>{t.clearCoatTexture=e.clearCoatTexture?u:null})}),l.add(e,"clearCoatRoughnessTexture").onChange(()=>{r.forEach(t=>{t.clearCoatRoughnessTexture=e.clearCoatRoughnessTexture?P:null})}),l.add(e,"clearCoatNormalTexture").onChange(()=>{r.forEach(t=>{t.clearCoatNormalTexture=e.clearCoatNormalTexture?j:null})}),B(1e3)}),n.run()});
